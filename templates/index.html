<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Genre Classifier</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <i class="fas fa-music"></i>
                <h1>Music Genre Classifier</h1>
            </div>
            <ul class="nav-links">
                <li><a href="#" class="active" data-page="home">Home</a></li>
                <li><a href="#" data-page="about">About</a></li>
            </ul>
            <div class="hamburger">
                <div class="line"></div>
                <div class="line"></div>
                <div class="line"></div>
            </div>
        </nav>
    </header>

    <main>
        <section id="home" class="page active">
            <div class="container">
                <div class="card">
                    <div class="card-header">
                        <h2>Upload Music File</h2>
                        <p>Upload an audio file to predict its genre</p>
                    </div>
                    <div class="card-body">
                        <div class="upload-area" id="upload-area">
                            <input type="file" id="file-upload" accept="audio/*" hidden>
                            <div class="upload-icon">
                                <i class="fas fa-cloud-upload-alt"></i>
                            </div>
                            <p>Click to upload or drag and drop</p>
                            <span class="file-info">Supports WAV, FLAG, OGG, etc.</span>
                        </div>

                        <div class="file-preview" id="file-preview" style="display: none;">
                            <div class="file-info">
                                <i class="fas fa-music"></i>
                                <span id="file-name">filename.mp3</span>
                            </div>
                            <button class="remove-btn" id="remove-file">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>

                        <div class="progress-container" id="progress-container" style="display: none;">
                            <div class="progress-info">
                                <span>Uploading...</span>
                                <span id="progress-percentage">0%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress" id="progress-bar"></div>
                            </div>
                        </div>

                        <div class="result-container" id="result-container" style="display: none;">
                            <h3>Predicted Genre:</h3>
                            <div class="genre-result" id="genre-result">Rock</div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <button id="predict-btn" class="btn primary-btn" type="button" disabled>
                            <span class="btn-text">Predict Genre</span>
                            <span class="btn-loader" style="display: none;">
                                <i class="fas fa-spinner fa-spin"></i>
                            </span>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <section id="about" class="page">
            <div class="container">
                <div class="card">
                    <div class="card-header">
                        <h2>How to use Web Demo</h2>
                    </div>
                    <div class="card-body">
                        <ol>
                            <li>Clone the GitHub repository to your local machine.</li>
                            <li>Run: <code>python -m venv venv</code> to create a virtual environment.</li>
                            <li>Run: <code>Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope Process</code> to allow script execution in PowerShell.</li>
                            <li>Activate the virtual environment: <code>.\venv\Scripts\activate</code></li>
                            <li>Once activated, you will see the environment name on your terminal prompt.</li>
                            <li>Install dependencies: <code>pip install -r requirements.txt</code></li>
                            <li>Run the web app using: <code>python Web_Demo/app.py</code></li>
                            <li>Open the server address displayed in the terminal (default: <a href="http://127.0.0.1:5000">http://127.0.0.1:5000</a>).</li>
                        </ol>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2>Music Genre Classification</h2>
                    </div>
                    <div class="card-body">
                        <p>As digital music expands, automatic music genre classification has become crucial for efficient organization, search, and recommendation systems. This project focuses on classifying music genres using machine learning models trained on extracted audio features from the GTZAN dataset.</p>
                        <img src="{{ url_for('static', filename='project_image.png') }}" alt="Project Image">
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2>Dataset Overview</h2>
                    </div>
                    <div class="card-body">
                        <p>The GTZAN dataset contains 10 genres with 100 audio files per genre, each 30 seconds long. The dataset was preprocessed into both statistical CSV features and spectrogram images for machine learning and deep learning models.</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2>Approach</h2>
                    </div>
                    <div class="card-body">
                        <p>Multiple machine learning models were compared:</p>
                        <ul>
                            <li>K-Nearest Neighbors (KNN)</li>
                            <li>Support Vector Machines (SVM)</li>
                            <li>Random Forest</li>
                            <li>Gaussian Mixture Models (GMM)</li>
                            <li>Artificial Neural Networks (ANN)</li>
                        </ul>
                        <p>Feature extraction was done using statistical summaries (mean, variance) from 3-second and 30-second audio segments. Models were evaluated with 80-20 train-test split using accuracy and confusion matrices.</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2>Resources</h2>
                    </div>
                    <div class="card-body">
                        <ul>
                            <li><a href="https://github.com/Saumi18/Music-Genre-Classification" target="_blank">GitHub Repository</a></li>
                            <li><a href="https://colab.research.google.com/github/Saumi18/Music-Genre-Classification/blob/main/Music_Genre_Classification.ipynb" target="_blank">Colab Notebook</a></li>
                            <li><a href="https://youtu.be/5WWGS2PwFB0?si=DGhjy1yhHkpGDn0J" target="_blank">Spotlight Video</a></li>
                            <li><a href="{{ url_for('static', filename='Reading_Paper.pdf') }}" target="_blank">Research Paper PDF</a></li>
                            <li><a href="{{ url_for('static', filename='mom.pdf') }}" target="_blank">Minutes of Meeting PDF</a></li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2>About the Team</h2>
                    </div>
                    <div class="card-body">
                        <div class="team-grid">
                            <div class="team-member">
                                <img src="{{ url_for('static', filename='ayush.jpg') }}" alt="Ayush Singh" class="image">
                                <h4>Ayush Singh</h4>
                            </div>
                            <div class="team-member">
                                <img src="{{ url_for('static', filename='swarnava.jpg') }}" alt="Swarnava Mandal" class="image">
                                <h4>Swarnava Mandal</h4>
                            </div>
                            <div class="team-member">
                                <img src="{{ url_for('static', filename='saumitra.jpg') }}" alt="Saumitra Prasad Kulkarni" class="image">
                                <h4>Saumitra Prasad Kulkarni</h4>
                            </div>
                            <div class="team-member">
                                <img src="{{ url_for('static', filename='prince.jpg') }}" alt="Prince Kumar" class="image">
                                <h4>Prince Kumar</h4>
                            </div>
                            <div class="team-member">
                                <img src="{{ url_for('static', filename='ritik.jpg') }}" alt="Ritik Singh" class="image">
                                <h4>Ritik Singh</h4>
                            </div>
                            <div class="team-member">
                                <img src="{{ url_for('static', filename='william.jpg') }}" alt="Kukatlapalli William Samuel" class="image">
                                <h4>Kukatlapalli William Samuel</h4>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2023 Music Genre Classifier. All rights reserved.</p>
        </div>
    </footer>

    <div class="toast" id="toast">
        <div class="toast-content">
            <i class="fas fa-exclamation-circle"></i>
            <span id="toast-message">This is a toast message</span>
        </div>
        <div class="toast-progress"></div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>